import{d as M,am as y,g as F,h as L,r as v,O as T,c as b,br as $,R as S,a3 as A,_ as B,z as l,o as p,a as z,C as e,B as a,D as H,A as V,L as N,bs as j,a0 as k,a1 as E}from"./index--_Uh9bg0.js";import{D as G,M as O}from"./ModalHeader-uM1qegn0.js";import{S as R,u as U}from"./Searchbar-RuGwMFh6.js";import{C as q}from"./ChipFilterComponent-5BtK7ua3.js";const f="All",J=M({name:"DoctorList",components:{DoctorCard:G,ChipFilterComponent:q,ModalHeader:O,IonGrid:y,IonRow:F,IonCol:L,Searchbar:R},props:{doctors:Array,view:Object},emits:["search-cancel"],setup(o){const n=v(void 0),D=v(""),_=v(f),h=T(),d=b(()=>{var t;const s=((t=h.selectedHospital)==null?void 0:t.doctors)||[];return o.doctors||s}),u=U(d,["name"],D,$).filteredItems,c=b(()=>{const s=d.value.map(r=>r.department||r.speciality),t=s.filter((r,C)=>s.includes(r,C+1)).map(r=>({text:r,value:r}));return t.push({text:f,value:f}),t});S(()=>{const s=_.value;u.value=d.value.filter(t=>s==f||(t.department||t.speciality)==s)});function m(s){n.value=d.value.find(t=>t.id==s)}return{searchText:D,icons:{location:A},filteredDoctors:u,departments:c,selectedDept:_,showDoctorDetailModal:m,modalDoctor:n}}});function K(o,n,D,_,h,d){const u=l("Searchbar"),c=l("ion-col"),m=l("ion-row"),s=l("ChipFilterComponent"),t=l("ion-note"),r=l("DoctorCard"),C=l("ion-grid"),w=l("ModalHeader"),g=l("ion-content"),I=l("ion-modal");return p(),z(k,null,[e(C,{class:"list-container doctors"},{default:a(()=>[e(m,null,{default:a(()=>[e(c,{size:"12","size-md":"8"},{default:a(()=>[e(u,{class:"searchbar",placeholder:"Filter doctors",modelValue:o.searchText,"onUpdate:modelValue":n[0]||(n[0]=i=>o.searchText=i),onIonCancel:n[1]||(n[1]=i=>o.$emit("search-cancel"))},null,8,["modelValue"])]),_:1})]),_:1}),e(m,null,{default:a(()=>[e(c,{size:"12","size-md":"8",class:"ion-justify-content-center"},{default:a(()=>[e(s,{modelValue:o.selectedDept,"onUpdate:modelValue":n[2]||(n[2]=i=>o.selectedDept=i),options:o.departments},null,8,["modelValue","options"]),!o.filteredDoctors||o.filteredDoctors.length==0?(p(),V(t,{key:0},{default:a(()=>[H(" No doctors found. ")]),_:1})):N("",!0)]),_:1})]),_:1}),e(m,null,{default:a(()=>[e(j,{name:"list"},{default:a(()=>[(p(!0),z(k,null,E(o.filteredDoctors,i=>(p(),V(c,{size:"12","size-sm":"12","size-md":"6","size-lg":"4",key:i.id},{default:a(()=>[e(r,{doctor:i,actions:!0,detail:!1,onInfo:o.showDoctorDetailModal},null,8,["doctor","onInfo"])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1}),e(I,{id:"doctor-info","is-open":o.modalDoctor!=null,"backdrop-dismiss":!0,animated:!0,"initial-breakpoint":"0.8",breakpoints:[0,.6,.8,.9],onDidDismiss:n[3]||(n[3]=()=>o.modalDoctor=void 0)},{default:a(()=>[e(w,{title:o.modalDoctor.name},null,8,["title"]),e(g,{class:"ion-no-padding"},{default:a(()=>[e(r,{doctor:o.modalDoctor,actions:!0,detail:!0},null,8,["doctor"])]),_:1})]),_:1},8,["is-open"])],64)}const Y=B(J,[["render",K]]);export{Y as default};
