import{d as H,ax as ee,f as E,ac as A,ae as F,ad as P,ay as Y,e as K,N as X,l as q,az as te,aA as oe,r as V,c as $,aB as ae,a4 as ne,aC as le,aD as J,aE as se,_ as U,z as l,o as m,a as D,C as t,B as o,D as p,a2 as N,t as w,A as I,a3 as S,b as L,aF as ie,u as re,aG as Z,aH as W,aI as Q,P as ce,aJ as ue,aK as G,an as de,U as pe,$ as me,aL as he,V as _e,aM as fe,R as ye,aN as Ce,M as be,ab as v,I as ke}from"./index-QxsQlh4-.js";import{M as T,u as x}from"./useIonModal-P8FV7PBJ.js";import{u as ge}from"./appStore-D6ym7sz-.js";import{D as De}from"./DoctorCard-IN2ozIny.js";import"./dateUtil-H8p96JqU.js";const Ne=H({name:"SearchModal",components:{IonSelect:ee,IonContent:E,IonHeader:A,IonTitle:F,IonToolbar:P,IonButtons:Y,IonButton:K,IonItem:X,IonIcon:q,IonSelectOption:te,IonFooter:oe},emits:["apply"],props:{initialQuery:{type:Object,required:!0}},setup(e,n){const u=ge(),s=V({...u.searchQuery}),{cities:C,specialities:b}=u,r=$(()=>u.searchDoctors(s.value)),d=$(()=>u.getHospitalsByCity(s.value.city||""));console.log("setup",C,b,r,d);const{closeModal:_}=x();return{icons:{arrowBack:ae,location:ne,business:le,person:J,document:se},cities:C,specialities:b,hospitals:d,doctors:r,searchQuery:s,cancel:()=>_(T.Cancel,null),reset:()=>{s.value={...u.searchQuery}},apply:()=>_(T.OK,{...s.value})}}});function we(e,n,u,s,C,b){const r=l("ion-icon"),d=l("ion-button"),_=l("ion-buttons"),f=l("ion-title"),y=l("ion-toolbar"),k=l("ion-header"),h=l("ion-select-option"),g=l("ion-select"),i=l("ion-item"),c=l("ion-content");return m(),D(N,null,[t(k,null,{default:o(()=>[t(y,null,{default:o(()=>[t(_,{slot:"start"},{default:o(()=>[t(d,{color:"medium",onClick:e.cancel},{default:o(()=>[t(r,{slot:"icon-only",icon:e.icons.arrowBack},null,8,["icon"])]),_:1},8,["onClick"])]),_:1}),t(f,null,{default:o(()=>[p("Doctor filter")]),_:1})]),_:1})]),_:1}),t(c,{class:"doctor-search"},{default:o(()=>[t(i,null,{default:o(()=>[t(g,{label:"City","aria-label":"City",placeholder:"City","label-placement":"stacked",interface:"popover",modelValue:e.searchQuery.city,"onUpdate:modelValue":n[0]||(n[0]=a=>e.searchQuery.city=a)},{default:o(()=>[t(r,{slot:"start",icon:e.icons.location,"aria-hidden":"true"},null,8,["icon"]),t(h,{value:""},{default:o(()=>[p(" Any ")]),_:1}),(m(!0),D(N,null,S(e.cities,a=>(m(),I(h,{value:a.name,key:a.name},{default:o(()=>[p(w(a.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(i,null,{default:o(()=>[t(g,{label:"Hospital","aria-label":"Hospital",placeholder:"Hospital","label-placement":"stacked",interface:"popover",modelValue:e.searchQuery.hospital,"onUpdate:modelValue":n[1]||(n[1]=a=>e.searchQuery.hospital=a)},{default:o(()=>[t(r,{slot:"start",icon:e.icons.business,"aria-hidden":"true"},null,8,["icon"]),t(h,{value:""},{default:o(()=>[p(" Any ")]),_:1}),(m(!0),D(N,null,S(e.hospitals,a=>(m(),I(h,{value:a.name,key:a.id},{default:o(()=>[p(w(a.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(i,null,{default:o(()=>[t(g,{label:"Speciality","aria-label":"Speciality",placeholder:"Speciality","label-placement":"stacked",interface:"popover",modelValue:e.searchQuery.speciality,"onUpdate:modelValue":n[2]||(n[2]=a=>e.searchQuery.speciality=a)},{default:o(()=>[t(r,{slot:"start",icon:e.icons.document,"aria-hidden":"true"},null,8,["icon"]),t(h,{value:""},{default:o(()=>[p(" Any ")]),_:1}),(m(!0),D(N,null,S(e.specialities,a=>(m(),I(h,{value:a,key:a},{default:o(()=>[p(w(a),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(i,null,{default:o(()=>[t(g,{label:"Doctor","aria-label":"Doctor",placeholder:"Doctor","label-placement":"stacked",interface:"popover",modelValue:e.searchQuery.doctorName,"onUpdate:modelValue":n[3]||(n[3]=a=>e.searchQuery.doctorName=a)},{default:o(()=>[t(r,{slot:"start",icon:e.icons.person,"aria-hidden":"true"},null,8,["icon"]),t(h,{value:""},{default:o(()=>[p(" Any ")]),_:1}),(m(!0),D(N,null,S(e.doctors,a=>(m(),I(h,{value:a.name,key:a.id},{default:o(()=>[p(w(a.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1}),L("p",null,[t(d,{shape:"round",fill:"clear",color:"dark",onClick:e.reset},{default:o(()=>[p(" Reset ")]),_:1},8,["onClick"]),t(d,{shape:"round",fill:"clear",color:"primary",onClick:e.apply},{default:o(()=>[p(" Apply ")]),_:1},8,["onClick"])])]),_:1})],64)}const ve=U(Ne,[["render",we]]),Ie=H({name:"DoctorDetail",components:{IonBackButton:ie,DoctorCard:De,IonContent:E,IonHeader:A,IonTitle:F,IonToolbar:P,IonButtons:Y,IonButton:K,IonIcon:q},props:{doctor:{type:Object,required:!0}},setup(e,n){const u=re();return console.log("booking appointment::setup",e,n),{icons:{close:Z,calendar:W,call:Q},bookAppointment:async function(){return console.log("booking appointment with doctor:",e.doctor),u.push({name:ce.DOCTOR_APPOINTMENT.route,params:{doctorId:e.doctor.id}}),ue.dismiss(null,"0")}}}});function Se(e,n,u,s,C,b){const r=l("ion-back-button"),d=l("ion-buttons"),_=l("ion-title"),f=l("ion-toolbar"),y=l("ion-header"),k=l("ion-icon"),h=l("ion-button"),g=l("DoctorCard"),i=l("ion-content");return m(),D(N,null,[t(y,{collapse:!0,translucent:!0},{default:o(()=>[t(f,null,{default:o(()=>[t(d,{slot:"start"},{default:o(()=>[t(r)]),_:1}),t(d,{slot:"end"}),t(_,null,{default:o(()=>[p("Doctor detail")]),_:1})]),_:1})]),_:1}),t(i,{class:"ion-padding doctor-detail"},{default:o(()=>[t(g,{doctor:e.doctor,view:"Detail"},{default:o(()=>[L("div",null,[t(h,{fill:"clear",title:"Appointment",onClick:e.bookAppointment},{default:o(()=>[t(k,{size:"small",slot:"start",icon:e.icons.calendar},null,8,["icon"]),p(" Appointment ")]),_:1},8,["onClick"]),t(h,{fill:"clear",title:"Call now"},{default:o(()=>[t(k,{size:"small",slot:"start",icon:e.icons.call},null,8,["icon"]),p(" Call ")]),_:1})])]),_:1},8,["doctor"])]),_:1})],64)}const Be=U(Ie,[["render",Se]]),Me=[{name:"Greater Noida",hospitals:[]},{name:"Noida",hospitals:[]},{name:"New Delhi",hospitals:[]}],Le=[{id:"kailashgn",name:"Kailash Hospital, Greater Noida",address:"23, KP-1 Greater Noida - 201305",phone:"+(91)-(0120)-2322222 / 2327799",photo:"https://www.kailashhealthcare.com/Content/images/GH-H-gnoida-Thumb.png",city:"Greater Noida",website:"https://www.kailashhealthcare.com/"},{id:"chauhangn",name:"Dr. Chauhan Sanjeevani Hospital",address:"NH-14, Block C, Gamma 1, Greater Noida, Uttar Pradesh 201308",phone:"0120 451 5191",photo:"https://lh3.googleusercontent.com/p/AF1QipO2cv83r-UAfXzFdK4X-NCYicIIlhp_wD5gCimM=s680-w680-h510",city:"Greater Noida",website:""},{id:"yatharthgn",name:"Yatharth Super Speciality Hospital, Greater Noida",address:"Omega-I, Plot No 32, MG Rd, Greater Noida, Uttar Pradesh 201309",phone:"088004 47777",photo:"https://www.yatharthhospitals.com/uploads/hostmaster/yatharth_62529830.jpg",city:"Greater Noida",website:"https://www.yatharthhospitals.com/yatharth-super-speciality-hospital-greater-noida"},{id:"yatharth110",name:"Yathartha Hospital",city:"Noida",address:"Sector 110"}],Ge=["Physician","Internal Medicine",""],R=[{id:"kai_gn_abc",name:"Dr ABC",hospitalId:"kailashgn",hospitalName:"Kailash Hospital",department:"Physician",experience:"10",city:"Greater Noida",qual:"MBBS, MD, DNB"},{id:"kai_gn_sahay",name:"Dr Sahay",hospitalId:"kailashgn",hospitalName:"Kailash",department:"Physician",city:"Greater Noida",qual:"MBBS, MD, DNB",experience:"15"},{id:"kai_n_xyz",name:"Dr XYZ",hospitalId:"kailashgn",hospitalName:"Kailash",department:"Physician",city:"Noida",qual:"MBBS, MD, DNB",experience:"8"},{id:"kai_n_san",name:"Dr Sanjay",hospitalId:"kailashgn",hospitalName:"Kailash",department:"Internal Medicine",city:"Noida",qual:"MBBS, MS, DNB",experience:"8"},{id:"kai_n_agupta",name:"Dr Anand Gupta",hospitalId:"kailashgn",hospitalName:"Kailash",department:"Internal Medicine",city:"Noida",qual:"MBBS, MS, DNB",experience:"8"},{id:"drc_gn_cha",name:"Dr Chauhan",hospitalId:"chauhangn",hospitalName:"Dr Chauhan Hospital",department:"Physician",qual:"MBBS, MD, DNB",city:"Greater Noida",schedules:[new G({days:[0],start:0,end:0}),new G({days:[1,3,5,6],start:9,end:13}),new G({days:[1,3,5],start:18,end:20}),new G({days:[6],start:15,end:20})]}],O=[{id:"abc1234",name:"Santaa Clauus",gender:"Male",age:23,phone:"9876543210",address:"A 123, Gamma 1, Greater Noida"},{id:"dhh1234",name:"Shwta",gender:"Female",age:21,phone:"3464747777",address:"S 21, Gamma 1, Greater Noida"}],z={get cities(){return Me},get hospitals(){return Le},get specialities(){return Ge},get doctors(){return R},get patients(){return O},getDoctorById(e){return R.find(n=>n.id==e)},searchDoctors(e){const n=(e==null?void 0:e.city)||"",u=(e==null?void 0:e.hospital)||"",s=(e==null?void 0:e.speciality)||"",C=(e==null?void 0:e.doctorName)||"";return R.filter(r=>{var d,_,f,y;return(n.length<=0||((d=r.city)==null?void 0:d.toLocaleLowerCase())==n.toLocaleLowerCase())&&(u.length<=0||((_=r.hospitalName)==null?void 0:_.toLocaleLowerCase())==u.toLocaleLowerCase())&&(s.length<=0||((f=r.department)==null?void 0:f.toLocaleLowerCase())==s.toLocaleLowerCase())&&(C.length<=0||((y=r.name)==null?void 0:y.toLocaleLowerCase())==C.toLocaleLowerCase())})},getSelectedCity:function(){return{name:"Greater Noida"}},async savePatient(e){let n=O.find(u=>u.name==e.name);n&&(n=Object.assign(n,e)),O.push({...e})},async getPatient(e){return O.find(n=>n.name==e)}},Oe=["text"],Ve="doc_search_filter",Ae="doc_detail",Fe=H({components:{IonChip:de,IonIcon:q,IonItem:X,IonSearchbar:pe,IonButton:K,IonList:me,IonAvatar:he},setup(e,n){const u=z.getSelectedCity().name,s=V({city:u}),C=V([]),b=V([]),r=$(()=>{const c=s.value,a={};return c&&Object.keys(c).forEach(B=>{const M=c[B];M&&M!=""&&Oe.indexOf(B)<0&&(a[B]=M)}),a}),d=$(()=>Object.keys(r.value).length>0);function _(c){const a=(c||"").toLowerCase(),B=b.value.filter(M=>{var j;return!a||((j=M.name)==null?void 0:j.toLowerCase().indexOf(a))>-1});C.value=B}function f(c){const a=z.searchDoctors(c);b.value=a}_e(()=>{f(s.value),_(s.value.text)}),fe(()=>{f(s.value)}),ye(()=>{_(s.value.text)});function y(c){s.value[c]=""}const k=function(c,a){c==T.OK&&a&&(console.log("modalCloseCallback::Search modal closed",c,a),s.value=a)},{createModal:h}=x();return{icons:{options:Ce,close:Z,person:J,calendar:W,call:Q},anyFilterSelected:d,selectedFilters:r,searchQuery:s,searchResults:C,filteredDoctors:b,itemClickHandler:async function(c){console.log("doctor selected",c),h({id:Ae,component:Be,initialBreakpoint:.5,breakpoints:[0,.5,.75,1],componentProps:{doctor:c}})},showFilterOptions:async()=>{await h({id:Ve,component:ve,componentProps:{initialQuery:{...s.value}},closeCallback:k})},clearFilter:y}}}),Pe=["src","alt"];function $e(e,n,u,s,C,b){const r=l("ion-searchbar"),d=l("ion-icon"),_=l("ion-button"),f=l("ion-item"),y=l("ion-label"),k=l("ion-chip"),h=l("ion-avatar"),g=l("ion-list");return m(),D(N,null,[t(f,null,{default:o(()=>[t(r,{class:"doctor-search",debounce:500,"show-cancel-button":"focus","cancel-button-text":"Cancel",placeholder:"Search doctors, hospital etc",enterkeyhint:"search",modelValue:e.searchQuery.text,"onUpdate:modelValue":n[0]||(n[0]=i=>e.searchQuery.text=i)},null,8,["modelValue"]),t(_,{class:"filter-option",slot:"end",size:"small",fill:"clear",onClick:e.showFilterOptions},{default:o(()=>[t(d,{slot:"icon-only",icon:e.icons.options},null,8,["icon"])]),_:1},8,["onClick"])]),_:1}),e.anyFilterSelected?(m(),I(f,{key:0,class:"doctor-selected-filters"},{default:o(()=>[(m(!0),D(N,null,S(e.selectedFilters,(i,c)=>(m(),I(k,{outline:!0,key:i},{default:o(()=>[t(y,null,{default:o(()=>[p(w(i),1)]),_:2},1024),t(d,{icon:e.icons.close,onClick:a=>e.clearFilter(c)},null,8,["icon","onClick"])]),_:2},1024))),128))]),_:1})):be("",!0),t(g,null,{default:o(()=>[(m(!0),D(N,null,S(e.searchResults,i=>(m(),I(f,{lines:"full",button:!0,detail:!0,key:i.id,onClick:c=>e.itemClickHandler(i)},{default:o(()=>[t(h,{slot:"start"},{default:o(()=>[L("img",{src:i.docImage,alt:i.docImage},null,8,Pe)]),_:2},1024),t(y,null,{default:o(()=>[L("h2",null,w(i.name),1),L("p",null,w(i.speciality)+" | "+w(i.hospitalName)+", "+w(i.city),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})],64)}const He=U(Fe,[["render",$e]]),Ue=H({__name:"DoctorsTab",setup(e){return(n,u)=>(m(),I(v(ke),null,{default:o(()=>[t(v(A),{translucent:!0},{default:o(()=>[t(v(P),null,{default:o(()=>[t(v(F),null,{default:o(()=>[p("Doctors")]),_:1})]),_:1})]),_:1}),t(v(E),{fullscreen:!0},{default:o(()=>[t(v(A),{collapse:"condense"},{default:o(()=>[t(v(P),null,{default:o(()=>[t(v(F),{size:"large"},{default:o(()=>[p("Doctors")]),_:1})]),_:1})]),_:1}),t(He)]),_:1})]),_:1}))}});export{Ue as default};
